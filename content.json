{"meta":{"title":"BSL-Blog","subtitle":"BSLåšå®¢","description":"åˆ†äº«æœ‰è¶£çš„ç¼–ç¨‹é¡¹ç›®","author":"wangzirui32","url":"http://wangzirui32.github.io","root":"/"},"pages":[],"posts":[{"title":"ã€Python+pandasã€‘å­¦ç”Ÿæµ‹è¯•æˆç»©æ±‚å’Œæ’åº","slug":"ã€Python-pandasã€‘å­¦ç”Ÿæµ‹è¯•æˆç»©æ±‚å’Œæ’åº","date":"2023-01-11T10:04:34.000Z","updated":"2023-01-11T10:09:24.240Z","comments":true,"path":"2023/01/11/ã€Python-pandasã€‘å­¦ç”Ÿæµ‹è¯•æˆç»©æ±‚å’Œæ’åº/","link":"","permalink":"http://wangzirui32.github.io/2023/01/11/%E3%80%90Python-pandas%E3%80%91%E5%AD%A6%E7%94%9F%E6%B5%8B%E8%AF%95%E6%88%90%E7%BB%A9%E6%B1%82%E5%92%8C%E6%8E%92%E5%BA%8F/","excerpt":"","text":"éœ€æ±‚å°†å¦‚ä¸‹æ¯ä¸ªå­¦ç”Ÿä¸‰æ¬¡æµ‹è¯•çš„æˆç»©æ±‚å’Œåæ’åºï¼Œå¹¶æ˜¾ç¤ºåæ¬¡ï¼š 1. å¯¼å…¥æ•°æ®123import pandasdf = pandas.read_excel(&quot;score.xlsx&quot;) åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨pandasä½œä¸ºæ•°æ®å¤„ç†çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå®‰è£…å‘½ä»¤ï¼špip install pandasï¼‰. 2. æˆç»©æ±‚å’Œ12sum_score = [i for i in df.sum(axis=1)]df[&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;] = sum_score df.sum(axis=1)ï¼šæŒ‡å¯¹æ¯ä¸€è¡Œçš„æ•°å€¼è¿›è¡Œæ±‚å’Œï¼Œå®ƒæ‰€è¿”å›çš„å¯¹è±¡ä¸ºSeriesï¼Œè¿™æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œç±»ä¼¼äºåˆ—è¡¨. [i for i in df.sum(axis=1)]ï¼šæˆ‘ä»¬éå†Seriesä¸­çš„æ¯ä¸€é¡¹ï¼Œè·å¾—å„è¡Œæˆç»©æ±‚å’Œçš„ç»“æœï¼Œå°†å…¶è½¬åŒ–ä¸ºåˆ—è¡¨çš„å½¢å¼ï¼Œæœ€åèµ‹äºˆsum_score. df[&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;] = sum_scoreï¼šåœ¨åŸæœ‰çš„æ•°æ®è¡¨ä¸­æ–°å¢æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†è¿™ä¸€åˆ—ï¼Œå®ƒçš„å€¼ä¸ºåˆ—è¡¨sum_score. 3. æ’åºæ€»åˆ† æ˜¾ç¤ºåæ¬¡123df = df.sort_values(by=&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;, ascending=False)df.index = range(1, len(df)+1)print(df) df = df.sort_values(by=&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;, ascending=False)ï¼šä»¥æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†è¿™ä¸€åˆ—çš„æ•°å€¼ä¸ºä¾æ®ï¼Œè¿›è¡Œæ’åˆ—ï¼Œascending=Falseå†³å®šæ’åºæ–¹å¼ä¸ºé™åº. df.index = range(1, len(df)+1)ï¼šä¸ºæ•°æ®è¡¨é‡æ–°è®¾ç½®ç´¢å¼•ï¼Œæ˜¾ç¤ºåæ¬¡. 4. ä¿å­˜ç»“æœ1df.to_excel(&quot;output.xlsx&quot;) å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶output.xlsx.output.xlsxå¦‚ä¸‹ï¼š 5. å®Œæ•´ä»£ç 1234567891011import pandasdf = pandas.read_excel(&quot;score.xlsx&quot;)sum_score = [i for i in df.sum(axis=1)]df[&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;] = sum_scoredf = df.sort_values(by=&quot;æ‰€æœ‰æµ‹è¯•æˆç»©æ€»åˆ†&quot;, ascending=False)df.index = range(1, len(df)+1)print(df)df.to_excel(&quot;output.xlsx&quot;) æ€»ç»“df.sumå‡½æ•°ç”¨äºå¯¹ç›®æ ‡æ•°æ®è¡¨çš„æ’åˆ—ï¼Œå½“ä¼ å…¥axis=1æ—¶ï¼Œæ±‚å„è¡Œçš„å’Œï¼›ä¸ä¼ axisæ—¶ï¼Œæ±‚å„åˆ—çš„å’Œ. df.sort_valuesç”¨äºå¯¹æŸä¸€åˆ—çš„æ’åºå·¥ä½œï¼ŒbyæŒ‡å®šç›®æ ‡åˆ—ï¼Œascendingå†³å®šæ˜¯å¦ä¸ºå‡åºæˆ–é™åºï¼šå½“å…¶å€¼ä¸ºTrueæ—¶ï¼ŒæŒ‰å‡åºæ’åˆ—ï¼›åä¹‹äº¦ç„¶. df.indexèµ‹äºˆåˆ—è¡¨å€¼å¯ä»¥é‡æ–°è®¾ç½®ç´¢å¼•åˆ—.","categories":[],"tags":[{"name":"python,pandas,æ•°æ®å¤„ç†","slug":"python-pandas-æ•°æ®å¤„ç†","permalink":"http://wangzirui32.github.io/tags/python-pandas-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"}]},{"title":"ã€Pythonã€‘Lambdaè¡¨è¾¾å¼","slug":"ã€Pythonã€‘Lambdaè¡¨è¾¾å¼","date":"2023-01-09T01:52:03.000Z","updated":"2023-01-09T01:55:38.576Z","comments":true,"path":"2023/01/09/ã€Pythonã€‘Lambdaè¡¨è¾¾å¼/","link":"","permalink":"http://wangzirui32.github.io/2023/01/09/%E3%80%90Python%E3%80%91Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"","text":"âœ¨åšæ–‡ä½œè€… wangzirui32ğŸ’– å–œæ¬¢çš„å¯ä»¥ ç‚¹èµ æ”¶è— å…³æ³¨å“¦~~ğŸ‘‰æœ¬æ–‡é¦–å‘äºCSDNï¼Œæœªç»è®¸å¯ç¦æ­¢è½¬è½½ 1. ä»€ä¹ˆæ˜¯LambdaLambdaåœ¨Pythonç¼–ç¨‹ä¸­ä½¿ç”¨çš„é¢‘ç‡éå¸¸é«˜ï¼Œè¿™ç§è¡¨è¾¾å¼å…¶å®æ˜¯Pythonä¸­çš„ä¸€ç±»ç‰¹æ®Šçš„å®šä¹‰å‡½æ•°çš„å½¢å¼ï¼Œä½¿ç”¨å®ƒå¯ä»¥å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚å½“ä½ éœ€è¦ä¸€ä¸ªç®€å•åŠŸèƒ½çš„å‡½æ•°ï¼ŒLambdaèƒ½æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚ 2. Lambdaè¯­æ³•Lambdaè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1lambda å‚æ•°1, å‚æ•°2, ...., å‚æ•°n: æ‰§è¡Œè¯­å¥ ç¤ºä¾‹ä»£ç ï¼š 123# è®¡ç®—xçš„ä¸‰æ¬¡æ–¹f = lambda x: x**3print(f(3)) è¾“å‡ºï¼š 127 æ³¨æ„ï¼Œlambdaè¯­å¥ä¸­ï¼Œå†’å·ï¼ˆ:ï¼‰åæ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸éœ€è¦ç”¨returnè¿”å›ç»“æœï¼Œä½ å¯ä»¥ä½¿ç”¨ifè¯­å¥ï¼š 1234# åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•° æ˜¯å¶æ•°è¿”å›True å¦åˆ™è¿”å›Falsef = lambda x: True if x % 2 == 0 else Falseprint(f(10))print(f(11)) è¾“å‡ºï¼š 12TrueFalse ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªå‚æ•°ï¼š 123# æ±‚x y zçš„å¹³å‡å€¼f = lambda x, y, z: (x+y+z)/3print(f(11, 45, 14)) è¾“å‡ºï¼š 123.33333333333 3. Lambdaé«˜é˜¶ç”¨æ³•3.1 æ’åºç°æœ‰å¦‚ä¸‹åˆ—è¡¨ï¼š 123students = [&#123;&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 10, &quot;score&quot;: 87&#125;, &#123;&quot;name&quot;: &quot;Sally&quot;, &quot;age&quot;: 9, &quot;score&quot;: 100&#125;, &#123;&quot;name&quot;: &quot;James&quot;, &quot;age&quot;: 13, &quot;score&quot;: 95&#125;] éœ€æ±‚ï¼šå°†åˆ—è¡¨ä¸­çš„å­¦ç”Ÿä¿¡æ¯åˆ†åˆ«æŒ‰å¹´é¾„å’Œåˆ†æ•°è¿›è¡Œæ’åºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼å’Œæ’åºå‡½æ•°è¾¾æˆéœ€æ±‚ï¼Œä»£ç ï¼š 1234567891011students = [&#123;&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 10, &quot;score&quot;: 87&#125;, &#123;&quot;name&quot;: &quot;Sally&quot;, &quot;age&quot;: 18, &quot;score&quot;: 100&#125;, &#123;&quot;name&quot;: &quot;James&quot;, &quot;age&quot;: 13, &quot;score&quot;: 95&#125;]# è¿™é‡Œçš„lambdaè¿”å›å­¦ç”Ÿçš„å¹´é¾„ä½œä¸ºæ’åºä¾æ®students.sort(key=lambda student: student[&#x27;age&#x27;])print(&quot;æŒ‰å¹´é¾„æ’åºï¼š&quot;, students)# è¿™é‡Œçš„lambdaè¿”å›å­¦ç”Ÿçš„åˆ†æ•°ä½œä¸ºæ’åºä¾æ®students.sort(key=lambda student: student[&#x27;score&#x27;], reverse=True)print(&quot;æŒ‰åˆ†æ•°æ’åºï¼š&quot;, students) è¾“å‡ºç»“æœï¼š 12æŒ‰å¹´é¾„æ’åºï¼š [&#123;&#x27;name&#x27;: &#x27;John&#x27;, &#x27;age&#x27;: 10, &#x27;score&#x27;: 87&#125;, ......]æŒ‰åˆ†æ•°æ’åºï¼š [&#123;&#x27;name&#x27;: &#x27;Sally&#x27;, &#x27;age&#x27;: 18, &#x27;score&#x27;: 100&#125;, ......] 3.2 åºåˆ—æ˜ å°„ç°æœ‰å¦‚ä¸‹åˆ—è¡¨ï¼š 1numbers = [1, 2, 3, 4, 5, 6, 7] éœ€æ±‚ï¼šå°†åˆ—è¡¨å†…çš„æ‰€æœ‰æ•°å­—å…ƒç´ å…¨éƒ¨æ‰§è¡Œä¸€æ¬¡ç«‹æ–¹æ“ä½œã€‚æˆ‘ä»¬å¯ä»¥ç»“åˆmapå‡½æ•°è¾¾æˆéœ€æ±‚ï¼Œä»£ç ï¼š 1234numbers = [1, 2, 3, 4, 5, 6, 7]# è¿™é‡Œçš„lamdbaè¿”å›xçš„ç«‹æ–¹new_numbers = list(map(lambda x: x**3, numbers))print(new_numbers) è¾“å‡ºï¼š 1[1, 8, 27, 64, 125, 216, 343] mapå‡½æ•°å¯ä»¥ç”¨æ¥æ˜ å°„åºåˆ—ï¼Œè°ƒç”¨å‚æ•°å¦‚ä¸‹ï¼š 1map(æ˜ å°„å‡½æ•°, åºåˆ—åˆ—è¡¨) æ˜ å°„è¿‡ç¨‹ç±»ä¼¼äºï¼š numbers 1 2 3 4 5 6 7 æ˜ å°„ â¬‡ â¬‡ â¬‡ â¬‡ â¬‡ â¬‡ â¬‡ new_numbers 1 8 27 64 125 216 343 3.3 è¿‡æ»¤å…ƒç´ ç°æœ‰å¦‚ä¸‹åˆ—è¡¨ï¼š 1numbers = [11, 4, 5, 14, 10, 32, 50, 19, 20] éœ€æ±‚ï¼šè¿‡æ»¤å‡ºåˆ—è¡¨ä¸­10ä»¥ä¸Šçš„å¶æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨filterå†…ç½®å‡½æ•°ï¼Œä»£ç ï¼š 123numbers = [11, 4, 5, 14, 10, 32, 50, 19, 20]new_numbers = list(filter(lambda x: x % 2 == 0 and x &gt;= 10, numbers)) print(new_numbers) è¾“å‡ºï¼š 1[14, 10, 32, 50, 20] åœ¨è¿™ä¸ªlambdaè¡¨è¾¾å¼å†…ï¼Œæˆ‘ä»¬é™å®šäº†æ¡ä»¶x % 2 == 0 and x &gt;= 10ï¼Œå¦‚æœ2ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ï¼Œè¡¨è¾¾å¼ç»“æœä¸ºTrueï¼Œå¦åˆ™ä¸ºFalseã€‚æ•´ä¸ªè¿‡ç¨‹ç±»ä¼¼äºï¼š numbers 11 4 5 14 10 32 50 19 20 æ˜¯å¦ç¬¦åˆæ¡ä»¶ False False False True True True True False True new_numbers None None None 14 10 32 50 None 20 3.4 æŒ‡å®šç›¸é‚»å…ƒç´ çš„ç»“åˆæ¡ä»¶ç°æœ‰å¦‚ä¸‹åˆ—è¡¨ï¼š 1students = [&quot;John&quot;, &quot;Jack&quot;, &quot;James&quot;, &quot;Malfoy&quot;, &quot;Sally&quot;] éœ€æ±‚ï¼šå°†æ¯ä¸¤ä¸ªå­¦ç”Ÿå§“åä¹‹é—´æ·»ä¸Šâ€,â€è¿æ¥å¹¶è¾“å‡ºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨reduceå‡½æ•°ï¼Œä»£ç ï¼š 123from functools import reducestudents = [&quot;John&quot;, &quot;Jack&quot;, &quot;James&quot;, &quot;Malfoy&quot;, &quot;Sally&quot;]print(reduce(lambda a, b: &quot;&#123;&#125; , &#123;&#125;&quot;.format(a, b), students)) è¾“å‡ºï¼š 1John , Jack , James , Malfoy , Sally 3.5 å‡½æ•°è£…é¥°å™¨å½“ä¸€ä¸ªå‡½æ•°è¿”å›lambdaåŒ¿åå‡½æ•°æ—¶ï¼Œè¿™å°±ç±»ä¼¼äºPythonä¸­çš„å‡½æ•°è£…é¥°å™¨äº†ï¼Œç¤ºä¾‹ä»£ç ï¼š 12345def welcome_text(text): return lambda username: &quot;Welcome &#123;&#125;!\\n&#123;&#125;&quot;.format(username, text) welcome_user = welcome_text(&quot;è¿™é‡Œæ˜¯wangzirui32çš„ç¼–ç¨‹è¯¾å ‚ï¼&quot;)print(welcome_user(&quot;Malfoy&quot;)) è¾“å‡ºï¼š 12Welcome Malfoy!è¿™é‡Œæ˜¯wangzirui32çš„ç¼–ç¨‹è¯¾å ‚ï¼","categories":[{"name":"Python","slug":"Python","permalink":"http://wangzirui32.github.io/categories/Python/"}],"tags":[{"name":"python,lambda","slug":"python-lambda","permalink":"http://wangzirui32.github.io/tags/python-lambda/"}]}],"categories":[{"name":"Python","slug":"Python","permalink":"http://wangzirui32.github.io/categories/Python/"}],"tags":[{"name":"python,pandas,æ•°æ®å¤„ç†","slug":"python-pandas-æ•°æ®å¤„ç†","permalink":"http://wangzirui32.github.io/tags/python-pandas-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"},{"name":"python,lambda","slug":"python-lambda","permalink":"http://wangzirui32.github.io/tags/python-lambda/"}]}